<main class="bg-gray-50/50 text-gray-800 font-sans antialiased min-h-screen relative overflow-hidden selection:bg-brand-100 selection:text-brand-900">
    
    <!-- Elementos Decorativos de Fundo (Blobs) -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-96 bg-linear-to-b from-orange-50/60 to-transparent -z-10 pointer-events-none"></div>
    <div class="absolute top-[-10%] right-[-10%] w-125 h-125 bg-brand-100/40 rounded-full blur-[100px] -z-10 pointer-events-none opacity-60"></div>
    <div class="absolute top-[20%] left-[-10%] w-100 h-100 bg-blue-100/40 rounded-full blur-[100px] -z-10 pointer-events-none opacity-60"></div>
    
    <div class="container mx-auto px-4 pt-32 pb-24 max-w-3xl relative z-10">
        
        <!-- Cabeçalho e Busca -->
        <div class="text-center mb-16 animate-fade-in">
            <span class="inline-block py-1 px-3 rounded-full bg-white border border-brand-100 text-brand-600 text-xs font-bold tracking-wider mb-6 shadow-sm">CENTRAL DE AJUDA</span>
            
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-6 tracking-tight leading-tight">
                Como podemos ajudar?
            </h1>
            
            <p class="text-gray-500 text-lg mb-10 max-w-xl mx-auto leading-relaxed">
                Encontre respostas rápidas para as dúvidas mais comuns sobre nossos serviços, entregas e garantias.
            </p>
            
            <div class="relative max-w-xl mx-auto group">
                <!-- Efeito de brilho atrás da busca -->
                <div class="absolute -inset-1 rounded-2xl blur opacity-20 group-focus-within:opacity-50 transition duration-500 group-hover:opacity-30"></div>
                
                <!-- Input Container: Sombra removida, borda adicionada para definição -->
                <div class="relative bg-white rounded-2xl border border-gray-100 flex items-center overflow-hidden">
                    <div class="pl-6 text-gray-400 group-focus-within:text-brand-500 transition-colors">
                        <i class="ph-bold ph-magnifying-glass text-2xl"></i>
                    </div>
                    <input type="text" 
                    [(ngModel)]="searchTerm" 
                    (ngModelChange)="filterFaqs()"
                    placeholder="Busque por 'prazo', 'pagamento'..." 
                    class="w-full pl-4 pr-6 py-5 border-none outline-none text-gray-700 text-lg placeholder:text-gray-400 bg-transparent">
                </div>
            </div>
        </div>
        
        <!-- Lista de FAQ -->
        <div class="space-y-4">
            
            @for (item of filteredFaqs; track item.question; let i = $index) {
                <div class="group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden animate-slide-up" 
                [style.animation-delay]="i * 100 + 'ms'"
                [class.ring-2]="isOpen(item)"
                [class.ring-brand-100]="isOpen(item)"
                [class.border-transparent]="isOpen(item)">
                
                <button class="w-full px-6 py-5 md:px-8 md:py-6 flex items-start md:items-center justify-between bg-white text-left outline-none cursor-pointer select-none" 
                (click)="toggleAccordion(item)">
                <div class="flex gap-5 items-start md:items-center">
                    <!-- Ícone Toggle Customizado -->
                    <div class="w-10 h-10 rounded-full shrink-0 flex items-center justify-center transition-all duration-300 mt-1 md:mt-0"
                    [class.bg-brand-50]="isOpen(item)"
                    [class.text-brand-600]="isOpen(item)"
                    [class.rotate-180]="isOpen(item)"
                    [class.bg-gray-50]="!isOpen(item)"
                    [class.text-gray-400]="!isOpen(item)"
                    [class.group-hover:bg-brand-50]="!isOpen(item)"
                    [class.group-hover:text-brand-500]="!isOpen(item)">
                    <i class="ph-bold" [class.ph-minus]="isOpen(item)" [class.ph-plus]="!isOpen(item)"></i>
                </div>
                
                <span class="font-bold text-gray-800 text-lg group-hover:text-brand-700 transition-colors leading-tight">
                    {{ item.question }}
                </span>
            </div>
        </button>
        
        <div class="accordion-content bg-white" [class.active]="isOpen(item)">
            <!-- Conteúdo com indentação alinhada ao texto do título -->
            <div class="px-6 pb-6 md:pl-22 md:pr-8 md:pb-8 pt-0">
                <p class="text-gray-600 leading-relaxed text-base border-l-2 border-brand-100 pl-4">
                    {{ item.answer }}
                </p>
            </div>
        </div>
    </div>
} @empty {
    <div class="text-center py-16 bg-white rounded-3xl border border-gray-100 border-dashed animate-fade-in">
        <div class="bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400">
            <i class="ph-duotone ph-magnifying-glass text-3xl"></i>
        </div>
        <h3 class="font-bold text-gray-900 mb-1">Nenhum resultado encontrado</h3>
        <p class="text-gray-500 text-sm">Não encontramos nada para "{{ searchTerm }}"</p>
        <button (click)="searchTerm = ''; filterFaqs()" class="text-brand-600 font-bold text-sm mt-4 hover:underline">
            Limpar busca
        </button>
    </div>
}

</div>

<!-- Botão de Contato -->
<div class="mt-16 text-center border-t border-gray-100 pt-12">
    <p class="text-gray-500 mb-6 font-medium">Ainda precisa de ajuda?</p>
    <button class="bg-gray-900 hover:bg-black text-white font-bold py-4 px-8 rounded-xl shadow-xl shadow-gray-200 transition-all inline-flex items-center gap-3 transform hover:-translate-y-1 active:translate-y-0 hover:shadow-2xl">
        <i class="ph-fill ph-whatsapp-logo text-green-400 text-2xl"></i> 
        <span>Falar com nosso time</span>
    </button>
</div>

</div>

<footer class="py-10 text-center border-t border-gray-200 bg-white">
    <p class="text-xs text-gray-400">&copy; 2024 ConstrutoraPro. Todos os direitos reservados.</p>
</footer>
</main>