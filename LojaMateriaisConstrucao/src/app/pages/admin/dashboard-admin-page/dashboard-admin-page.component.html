<div class="flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden">
    
    <!-- Sidebar (Desktop) -->
    <aside class="hidden md:flex flex-col w-64 bg-white border-r border-gray-100 shrink-0">
        <div class="h-20 flex items-center px-6 border-b border-gray-50">
            <a routerLink="/" class="flex items-center gap-3 group min-w-0">
                <!-- Logo -->
                <div class="flex items-center justify-center rounded-lg group-hover:bg-brand-50 transition-colors">
                    <img [src]="config.logoUrl" [alt]="fullName" class="h-8 w-auto object-contain transition-transform group-hover:scale-105" />
                </div>

                <!-- Brand name -->
                <span class="text-lg font-extrabold tracking-tight truncate text-gray-900">
                    {{ config.namePrefix }}<span class="text-brand-600">{{ config.nameSuffix }}</span>
                </span>
            </a>
        </div>
        
        <nav class="flex-1 px-4 py-6 space-y-1 overflow-y-auto">
            <p class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">Principal</p>
            
            <a routerLink="/dashboard-admin" 
               routerLinkActive="bg-brand-50 text-brand-700" 
               [routerLinkActiveOptions]="{exact: true}"
               class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors group">
                <i class="ph-fill ph-squares-four text-lg" [ngClass]="{'text-brand-600': true}"></i>
                Dashboard
            </a>
            
           <a routerLink="/dashboard-admin/pedidos" 
               routerLinkActive="bg-brand-50 text-brand-700 font-bold shadow-xs" 
               class="flex items-center gap-3 px-4 py-3 text-sm font-bold text-gray-500 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all group">
                <i class="ph-bold ph-shopping-bag text-lg"></i>
                <span>Pedidos</span>
            </a>

            <!-- Produtos (Listagem) -->
            <a routerLink="/dashboard-admin/produtos" 
               routerLinkActive="bg-brand-50 text-brand-700 font-bold shadow-xs" 
               class="flex items-center gap-3 px-4 py-3 text-sm font-bold text-gray-500 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all group">
                <i class="ph-bold ph-package text-lg"></i>
                <span>Produtos</span>
            </a>

            <!-- Clientes (Listagem) -->
            <a routerLink="/dashboard-admin/clientes" 
               routerLinkActive="bg-brand-50 text-brand-700 font-bold shadow-xs" 
               class="flex items-center gap-3 px-4 py-3 text-sm font-bold text-gray-500 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-all group">
                <i class="ph-bold ph-users text-lg"></i>
                <span>Clientes</span>
            </a>
            
            <a routerLink="/dashboard-admin/registrar-cliente" 
               routerLinkActive="bg-brand-50 text-brand-700 font-bold"
               class="flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-600 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-colors group">
                <i class="ph-bold ph-users text-lg text-gray-400 group-hover:text-brand-600 transition-colors"></i>
                Novo Cliente
            </a>

            <a routerLink="/dashboard-admin/registrar-product" 
               routerLinkActive="bg-brand-50 text-brand-700 font-bold"
               class="flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-600 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-colors group">
                <i class="ph-bold ph-package text-lg text-gray-400 group-hover:text-brand-600 transition-colors"></i>
                Novo Produto
            </a>

            <p class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mt-8 mb-2">Gestão</p>

            <a routerLink="/dashboard-admin/relatorios-administrativos" 
               routerLinkActive="bg-brand-50 text-brand-700 font-bold"
               class="flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-600 rounded-xl hover:bg-gray-50 hover:text-gray-900 transition-colors group">
                <i class="ph-bold ph-chart-line-up text-lg text-gray-400 group-hover:text-brand-600 transition-colors"></i>
                Relatórios
            </a>
        </nav>

        <!-- Botão Sair -->
        <div class="p-4 border-t border-gray-50">
            <button (click)="logout()" class="flex items-center gap-3 px-4 py-3 w-full text-sm font-bold text-red-500 rounded-xl hover:bg-red-50 transition-colors cursor-pointer">
                <i class="ph-bold ph-sign-out text-lg"></i>
                Sair do Sistema
            </button>
        </div>
    </aside>

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col h-screen overflow-hidden">
        
        <!-- Top Header -->
        <header class="h-20 bg-white border-b border-gray-100 flex items-center justify-between px-6 lg:px-8 z-10 shrink-0">
            <div class="flex items-center gap-4">
                <button (click)="toggleSidebar()" class="text-gray-500 hover:text-gray-700 md:hidden cursor-pointer">
                    <i class="ph-bold ph-list text-2xl"></i>
                </button>
                <div class="hidden md:block">
                    <h2 class="text-lg font-bold text-gray-900">Painel Administrativo</h2>
                    <p class="text-xs text-gray-400">Gerenciamento central de operações</p>
                </div>
            </div>
            
            <!-- Perfil Admin -->
            <div class="flex items-center gap-4">
                <button class="relative p-2 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors">
                    <i class="ph-bold ph-bell text-xl"></i>
                    <span class="absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border border-white"></span>
                </button>
                <div class="h-8 w-px bg-gray-100"></div>
                <div class="flex items-center gap-3 pl-2">
                    <div class="text-right hidden sm:block">
                        <p class="text-sm font-bold text-gray-900 truncate max-w-[120px]">{{ adminUser()?.email?.split('@')?.at(0) || 'Administrador' }}</p>
                        <p class="text-[10px] font-bold text-brand-600 uppercase tracking-tighter">Acesso Master</p>
                    </div>
                    <div class="w-10 h-10 rounded-full border-2 border-white shadow-sm overflow-hidden bg-gray-100">
                        <img [src]="'https://ui-avatars.com/api/?name=' + adminUser()?.email + '&background=0f172a&color=fff'" class="w-full h-full object-cover">
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Router Outlet: Onde as sub-páginas serão renderizadas -->
        <main class="flex-1 overflow-y-auto p-6 lg:p-8 animate-fade-in scroll-smooth bg-gray-50/30">
            <router-outlet></router-outlet>
        </main>
    </div>

    <!-- Mobile Sidebar Overlay -->
    @if (isSidebarOpen()) {
        <div class="fixed inset-0 bg-black/50 z-40 md:hidden animate-fade-in" (click)="toggleSidebar()"></div>
        <aside class="fixed inset-y-0 left-0 w-72 bg-white shadow-2xl z-50 transform transition-transform md:hidden flex flex-col">
            <div class="h-20 flex items-center justify-between px-6 border-b border-gray-50">
                <span class="text-xl font-bold tracking-tight text-gray-900">Construtora<span class="text-brand-600">Pro</span></span>
                <button (click)="toggleSidebar()" class="text-gray-500 hover:text-gray-900 p-2 cursor-pointer">
                    <i class="ph-bold ph-x text-xl"></i>
                </button>
            </div>
            <nav class="flex-1 p-6 space-y-2">
                <a routerLink="/dashboard-admin" (click)="toggleSidebar()" class="flex items-center gap-3 px-4 py-3.5 text-sm font-medium rounded-xl text-gray-600 hover:bg-gray-50">Dashboard</a>
                <a routerLink="/dashboard-admin/pedidos" (click)="toggleSidebar()" class="flex items-center gap-3 px-4 py-3.5 text-sm font-medium rounded-xl text-gray-600 hover:bg-gray-50">Pedidos</a>
                <a routerLink="/dashboard-admin/registrar-product" (click)="toggleSidebar()" class="flex items-center gap-3 px-4 py-3.5 text-sm font-medium rounded-xl text-gray-600 hover:bg-gray-50">Novo Produto</a>
            </nav>
        </aside>
    }

</div>